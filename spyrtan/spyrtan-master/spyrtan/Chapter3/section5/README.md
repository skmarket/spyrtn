# 3-5. 実践 GitHub

**この section には動画があります**

### GitHub を用いたより良い開発フロー

さぁここまで、GitHub と Git を利用した開発フローを見ていきました。<br>
ここで、より良い開発フローについて考えてみましょう。

今の開発フローの問題点としては、

- ローカルレポジトリから誰のチェックもせずに、リモートレポジトリに同期できてしまう
- 「開発中」や「本番環境」といった条件によってソースコードを分けて管理できない

といったことでしょうか。<br>
実はこれを解決するために、Git のブランチという仕組みと、GitHub のプルリクエストという機能がります。

まず Git のブランチですが、まずはこちらの資料をみてみてください。<br>
[サル先生のGit入門](https://backlog.com/ja/git-tutorial/stepup/01/)

このように master ブランチから、開発用に他のブランチを生やして開発をすすめていくことができます。（Aから新たなブランチを生やすことを、「ブランチを切る」と呼びます）<br>
この仕組みによって複数の状態を並列に保つことができるため

- 複数人での同時開発
- 複数の開発環境の保持 (本番・ステージング・開発)

などが簡単にできるようになります。<br>

次に GitHub のプルリクエストという機能についてです。<br>
まずは、master (ブランチ)からブランチを切ってみましょう。

---

### git branch してみよう

ブランチを切る前に、ローカルレポジトリをリモートレポジトリに合わせておきましょう。
その時には、terminal もしくは Git Bash で `git pull origin master` と入力します。 

その状況から、ブランチを切るには、`git branch {branch name}` というコマンドを使用します。<br>
ブランチが切れましたでしょうか。<br>
そのブランチには `git checkout {branch name}` で移動することができます。<br>
新たなブランチでファイルを適当に作成し変更を加え、コミットしてみましょう。

（動画参照）

コミットまでできたら次は、プルリクエストという機能について見ていきます。

---

### pull request を作ってみよう

では、branch を切った状態で `git push` をしてみましょう。<br>
そして GitHub へ移動し、master ブランチに今のブランチを結合させるためのリクエストを作成してみましょう。（ブランチAをブランチBに結合することを、AをBにマージするといいます）

（動画参照）

このように、あるブランチを他のブランチにマージする時に承認を求めるための機能を「プルリクエスト」と呼びます。
では実際にプルリクエストを行ってみましょう。

---

### merge してみよう

プルリクエストをマージすることで、リクエスト先のブランチにリクエスト元のブランチの変更を反映することができます。<br>
さっそく作成したプルリクエストをマージしてみましょう。

（動画参照）

また、ローカルレポジトリをリモートレポジトリと合わせるためには `git pull origin {branch name}` とする必要があるのでこれも覚えておきましょう。

---

### まとめ

Git でのバージョン管理に GitHub を利用することで以下のような開発フローを実現することができます。

1-1. GitHub でリモートレポジトリを作成<br>
1-2. `git clone` リモートレポジトリとおなじ環境をローカルのレポジトリに複製<br>

2-1. `git branch {branch name}` で master からブランチを切る<br>
2-2. `git checkout {branch name}` で作成した branch に移動する<br>
2-3. `git add`, `git commit` でローカルレポジトリに変更をコミット <br>
2-4. まとまりのある機能が開発できるまで、2-3 を繰り返す<br>

2-5. `git push` し、プルリクエストを作成する<br>
2-6. 2-3 から 2-5 をプルリクエストが承認されるまで繰り返す<br>
2-7. プルリクエストが承認されたら、作成したブランチから master へマージする<br>

ここまでなんとなくイメージできたでしょうか。<br>
最後にちょっとした GitHub の機能紹介があるので、次のセクションへどうぞ！
